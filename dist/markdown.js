!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("magic-string"),require("rollup-pluginutils")):"function"==typeof define&&define.amd?define(["magic-string","rollup-pluginutils"],t):(e=e||self)["rollup-plugin-markdown"]=t(e.MagicString,e.rollupPluginutils)}(this,(function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;return(n={validLangs:["js","javascript"]})=>{const r=t.createFilter(n.include,n.exclude),i=!1!==n.sourceMap&&!1!==n.sourcemap;return{name:"markdown",transform:(t,l)=>{if(!r(l))return null;const u=new e(t),o=t.split("\n"),s=o.filter((e=>"```"===e.slice(0,3))),c=s.length%2==0,a=s.length>0;if(!c||!a){const e={code:t};return i&&(e.map=u.generateMap({hires:!0})),e}let p=!1,d=!1,g=0;o.map((e=>{const t=g,r=g+e.length;g=r+1;const i="```"===e.slice(0,3);i&&(p=!p);const l=n.validLangs.reduce(((t,n)=>t||e.slice(0,n.length+3)==="```"+n),!1);l&&(d=!d);return{line:e,start:t,end:r,include:p&&d&&!i&&!l}})).forEach((e=>{!1===e.include&&u.remove(e.start,e.end)}));const f={code:u.toString()};return i&&(f.map=u.generateMap({hires:!0})),f}}}}));
